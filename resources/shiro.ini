# =======================
# Shiro INI configuration
# =======================

[main]
# Objects and their properties are defined here, 
# Such as the securityManager, Realms and anything
# else needed to build the SecurityManager

authc = org.apache.shiro.web.filter.authc.FormAuthenticationFilter

logout.redirectUrl = /
authc.loginUrl = /
authc.usernameParam = loginEmail
authc.passwordParam = loginPassword
authc.rememberMeParam = rememberMe
authc.successUrl  = /web/home.html

roles = org.apache.shiro.web.filter.authz.RolesAuthorizationFilter
roles.unauthorizedUrl = /

#password matcher
#passwordMatcher = org.apache.shiro.authc.credential.PasswordMatcher
#passwordService = org.apache.shiro.authc.credential.DefaultPasswordService
#passwordMatcher.passwordService = $passwordService

ds = com.orientechnologies.orient.jdbc.OrientDataSource
ds.url = remote:127.0.0.1/Cobweb
ds.username = root
ds.password = root

jdbcRealm = org.apache.shiro.realm.jdbc.JdbcRealm
jdbcRealm.permissionsLookupEnabled = true
jdbcRealm.authenticationQuery = SELECT password FROM User WHERE email = ?
jdbcRealm.userRolesQuery = SELECT role FROM User WHERE email = ?
#jdbcRealm.credentialsMatcher = $passwordMatcher
jdbcRealm.dataSource=$ds
#securityManager.realms = $jdbcRealm

sessionManager = org.apache.shiro.web.session.mgt.DefaultWebSessionManager
sessionDAO = org.apache.shiro.session.mgt.eis.EnterpriseCacheSessionDAO

securityManager.sessionManager = $sessionManager
securityManager.sessionManager.sessionDAO = $sessionDAO

[urls]
# The 'urls' section is used for url-based security
# in web applications.  We'll discuss this section in the
# Web documentation
/** = authc
/web/** = authc
/web/home.html = authc
/api/** = authcBasic
